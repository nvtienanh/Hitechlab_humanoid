<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NimbRo ROS Soccer Package: /home/tienanh/catkin_ws/src/nimbro/motion/gait/include/gait/gait.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_uni_bonn_ais.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">NimbRo ROS Soccer Package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gait_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">gait.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Generic gait motion module</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// File: gait.h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Author: Philipp Allgeuer &lt;pallgeuer@ais.uni-bonn.de&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Ensure header is only included once</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#ifndef GAIT_H</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define GAIT_H</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Includes</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;robotcontrol/motionmodule.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;robotcontrol/model/robotmodel.h&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;nimbro_utils/math_spline.h&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;config_server/parameter.h&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;plot_msgs/plot_manager.h&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;pluginlib/class_loader.h&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;boost/shared_ptr.hpp&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;boost/make_shared.hpp&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// Includes - Local</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;gait/gait_common.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;gait/gait_command.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;gait/gait_engine.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// Includes - Messages</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;tf/transform_broadcaster.h&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;gait_msgs/GaitCommand.h&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;gait_msgs/GaitOdom.h&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;gait_msgs/SetOdom.h&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;sensor_msgs/Joy.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;std_srvs/Empty.h&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// Includes - ROS</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;ros/subscriber.h&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// Includes - C++ Standard Library</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">namespace </span>gait</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classgait_1_1Gait.html">   53</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classgait_1_1Gait.html">Gait</a> : <span class="keyword">public</span> robotcontrol::MotionModule</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="comment">// Constructor</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="classgait_1_1Gait.html#a7ad4442565e0c68d0645fa46b1338601">Gait</a>(); </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classgait_1_1Gait.html#a23f36332f5b2de8511dc012224bda134">~Gait</a>(); </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="comment">// Initialisation function</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> init(robotcontrol::RobotModel* model);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="comment">// Trigger function</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isTriggered();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="comment">// Step function</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> step();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="comment">// Publish transforms function</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> publishTransforms();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="comment">// Get function for gait name</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classgait_1_1Gait.html#aa5ac0b3ae5ab055465d094566752ff54">   74</a></span>&#160;        <span class="keyword">const</span> std::string&amp; <a class="code" href="classgait_1_1Gait.html#aa5ac0b3ae5ab055465d094566752ff54">gaitName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_gaitName; } </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">// Constants</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">const</span> std::string CONFIG_PARAM_PATH;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="comment">// Configuration parameters</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        boost::shared_ptr&lt;config_server::Parameter&lt;bool&gt; &gt; m_enableGait; <span class="comment">// Flag whether to enable this gait motion module. The config parameter name is specific to the gait engine name.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        config_server::Parameter&lt;bool&gt; m_enableJoystick;                 <span class="comment">// Flag whether to globally enable the use of the joystick to control the gait command vector. When enabled, the first button on the joystick toggles the joystick mode on and off.</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        config_server::Parameter&lt;bool&gt; m_plotData;                       <span class="comment">// Flag whether to plot gait data to the plotter visualisation.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        config_server::Parameter&lt;bool&gt; m_publishOdometry;                <span class="comment">// Flag whether to publish the gait odometry.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        config_server::Parameter&lt;bool&gt; m_publishTransforms;              <span class="comment">// Flag whether to publish the ego_floor and gait odometry TF transforms.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        config_server::Parameter&lt;float&gt; m_gaitCmdVecNormP;               <span class="comment">// The p parameter with which to calculate the gait command vector norm (i.e. using the p-norm).</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        config_server::Parameter&lt;float&gt; m_gaitCmdVecNormMax;             <span class="comment">// The maximum allowed gait command vector norm, beyond which normalisation to this maximum value is performed.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="comment">// Robot model</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        robotcontrol::RobotModel* m_model;                   <span class="comment">// Pointer to the RobotModel object to work with</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordtype">int</span> m_jointMap[NUM_JOINTS];                          <span class="comment">// Maps a JointID enum to its corresponding joint index in RobotModel</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        boost::shared_ptr&lt;const urdf::Link&gt; m_trunkLink;     <span class="comment">// Trunk URDF link (used for setting support coefficients)</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        boost::shared_ptr&lt;const urdf::Link&gt; m_leftFootLink;  <span class="comment">// Left foot URDF link (used for setting support coefficients)</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        boost::shared_ptr&lt;const urdf::Link&gt; m_rightFootLink; <span class="comment">// Right foot URDF link (used for setting support coefficients)</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">// Step execution timing</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        ros::Time m_now;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        ros::Time m_lastNow;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordtype">double</span> m_dT;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="comment">// Robot states</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        robotcontrol::RobotModel::State m_state_standing;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        robotcontrol::RobotModel::State m_state_walking;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="comment">// Gait name (valid after init() has been called)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        std::string m_gaitName;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">// Transforms</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordtype">void</span> updateTransforms();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment">// Gait engine</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        boost::shared_ptr&lt;GaitEngine&gt; m_engine;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        pluginlib::ClassLoader&lt;GaitEngine&gt; m_enginePluginLoader;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordtype">bool</span> loadGaitEngine();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordtype">void</span> updateHaltPose();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordtype">void</span> updateGaitEngineInputs(<a class="code" href="structgait_1_1GaitEngineInput.html">GaitEngineInput</a>&amp; in);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordtype">void</span> processGaitEngineOutputs(<span class="keyword">const</span> <a class="code" href="structgait_1_1GaitEngineOutput.html">GaitEngineOutput</a>&amp; out);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordtype">void</span> writeJointCommands(<span class="keyword">const</span> <a class="code" href="structgait_1_1GaitEngineOutput.html">GaitEngineOutput</a>&amp; out);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordtype">void</span> setSupportCoefficients(<span class="keywordtype">double</span> leftLegCoeff, <span class="keywordtype">double</span> rightLegCoeff);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordtype">void</span> plotGaitEngineInputs(<span class="keyword">const</span> <a class="code" href="structgait_1_1GaitEngineInput.html">GaitEngineInput</a>&amp; in);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordtype">void</span> plotGaitEngineOutputs(<span class="keyword">const</span> <a class="code" href="structgait_1_1GaitEngineOutput.html">GaitEngineOutput</a>&amp; out);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">// Gait command</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="structgait_1_1GaitCommand.html">GaitCommand</a> m_gaitCmd;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        ros::Subscriber m_sub_gaitCommand;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordtype">void</span> handleGaitCommand(<span class="keyword">const</span> gait_msgs::GaitCommandConstPtr&amp; cmd);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordtype">void</span> plotRawGaitCommand();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">// Motions</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordtype">void</span> setPendingMotion(<a class="code" href="namespacegait.html#af15aa9e7e5f8fc6c890185b6975abe1f">MotionID</a> ID, <a class="code" href="namespacegait.html#aa46230590d4c7b371237dad06fb10c9c">MotionStance</a> stance = STANCE_DEFAULT, <span class="keywordtype">bool</span> adjustLeft = <span class="keyword">true</span>, <span class="keywordtype">bool</span> adjustRight = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordtype">void</span> clearPendingMotion();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="namespacegait.html#af15aa9e7e5f8fc6c890185b6975abe1f">MotionID</a> m_motionPending;     <span class="comment">// The ID of a pending motion, if there is one, otherwise MID_NONE</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="namespacegait.html#af15aa9e7e5f8fc6c890185b6975abe1f">MotionID</a> m_oldMotionPending;  <span class="comment">// The value of m_motionPending in the last cycle, for algorithmic purposes</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="namespacegait.html#aa46230590d4c7b371237dad06fb10c9c">MotionStance</a> m_motionStance;  <span class="comment">// The required stance of the robot before executing the motion</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordtype">bool</span> m_motionAdjustLeftFoot;  <span class="comment">// Flag whether the left foot should be adjusted to attain the required foot separation (how the required foot separation for various motions is defined is up to the gait engine)</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordtype">bool</span> m_motionAdjustRightFoot; <span class="comment">// Flag whether the right foot should be adjusted to attain the required foot separation (how the required foot separation for various motions is defined is up to the gait engine)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">// Halt pose</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="classnimbro__utils_1_1TrapVelSpline.html">nimbro_utils::TrapVelSpline</a> m_jointSpline[NUM_JOINTS];</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <a class="code" href="classnimbro__utils_1_1LinearSpline.html">nimbro_utils::LinearSpline</a> m_jointEffortSpline[NUM_JOINTS];</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        ros::Time m_reachStartTime;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordtype">double</span> m_reachDuration;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordtype">bool</span> m_reachedHalt;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordtype">bool</span> m_updatedHalt;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordtype">void</span> startReachHaltPose();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordtype">void</span> continueReachHaltPose();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordtype">void</span> stopReachHaltPose();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">// Joystick data</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordtype">bool</span> m_joystickEnabled;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordtype">bool</span> m_joystickGaitCmdLock;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordtype">bool</span> m_joystickButton0Pressed;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordtype">bool</span> m_joystickButton1Pressed;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordtype">bool</span> m_joystickButton2Pressed;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordtype">bool</span> m_joystickButton3Pressed;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        ros::Subscriber m_sub_joystickData;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordtype">void</span> handleJoystickData(<span class="keyword">const</span> sensor_msgs::JoyConstPtr&amp; joy);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordtype">void</span> setJoystickGaitCmdLock(<span class="keywordtype">bool</span> lock);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordtype">void</span> callbackEnableJoystick();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// TF transforms</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        tf::TransformBroadcaster m_tf_broadcaster;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        std::vector&lt;tf::StampedTransform&gt; m_tf_transforms;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        tf::StampedTransform* m_tf_ego_floor;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        tf::StampedTransform* m_tf_odom;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        gait_msgs::GaitOdom m_gait_odom;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        ros::Publisher m_pub_odom;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordtype">void</span> configureTransforms();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">// Gait odometry</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        ros::ServiceServer m_srv_resetOdom;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        ros::ServiceServer m_srv_setOdom;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordtype">bool</span> handleResetOdometry(std_srvs::EmptyRequest&amp; req, std_srvs::EmptyResponse&amp; res);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordtype">bool</span> handleSetOdometry(gait_msgs::SetOdomRequest &amp;req, gait_msgs::SetOdomResponse &amp;res);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Joint functions</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordtype">bool</span> constructJointMap();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="comment">// Gait state</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keyword">enum</span> GaitState</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            GS_INACTIVE,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            GS_REACHING_HALT_POSE,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            GS_STARTING_WALKING,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            GS_WALKING,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            GS_STOPPING_WALKING</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        };</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        GaitState m_gaitState;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordtype">void</span> resetGait();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordtype">void</span> plotGaitStateEvent();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="comment">// Plot manager</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        plot_msgs::PlotManagerFS m_PM;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordtype">void</span> configurePlotManager();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordtype">void</span> callbackPlotData();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keyword">enum</span> PMIDS</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            PM_NOMINAL_DT = 0,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            PM_TRUE_DT,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            PM_GAITCMD_LIN_VEL_X,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            PM_GAITCMD_LIN_VEL_Y,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            PM_GAITCMD_ANG_VEL_Z,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            PM_GAITCMD_WALK,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            PM_JOINTCMD_FIRST,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            PM_JOINTCMD_LAST = PM_JOINTCMD_FIRST + NUM_JOINTS - 1,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            PM_JOINTEFFORT_FIRST,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            PM_JOINTEFFORT_LAST = PM_JOINTEFFORT_FIRST + NUM_JOINTS - 1,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            PM_USE_RAW_JOINT_CMDS,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            PM_WALKING,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            PM_LEFT_SUPPORT_COEFF,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            PM_RIGHT_SUPPORT_COEFF,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            PM_GAITCMDRAW_LIN_VEL_X,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            PM_GAITCMDRAW_LIN_VEL_Y,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            PM_GAITCMDRAW_ANG_VEL_Z,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            PM_GAITCMDRAW_WALK,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            PM_GAIT_STATE,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            PM_GAIT_ODOM_X,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            PM_GAIT_ODOM_Y,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            PM_GAIT_ODOM_Z,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            PM_GAIT_ODOM_ID,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            PM_COUNT</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        };</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    };</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* GAIT_H */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">// EOF</span></div>
<div class="ttc" id="classgait_1_1Gait_html"><div class="ttname"><a href="classgait_1_1Gait.html">gait::Gait</a></div><div class="ttdoc">Generic gait motion module that can execute a given GaitEngine. </div><div class="ttdef"><b>Definition:</b> gait.h:53</div></div>
<div class="ttc" id="namespacegait_html_af15aa9e7e5f8fc6c890185b6975abe1f"><div class="ttname"><a href="namespacegait.html#af15aa9e7e5f8fc6c890185b6975abe1f">gait::MotionID</a></div><div class="ttdeci">MotionID</div><div class="ttdoc">Enumeration of motion IDs that can be used in the GaitCommand::motion field to trigger motions throug...</div><div class="ttdef"><b>Definition:</b> gait_common.h:84</div></div>
<div class="ttc" id="structgait_1_1GaitCommand_html"><div class="ttname"><a href="structgait_1_1GaitCommand.html">gait::GaitCommand</a></div><div class="ttdoc">Gait command data structure. </div><div class="ttdef"><b>Definition:</b> gait_command.h:17</div></div>
<div class="ttc" id="structgait_1_1GaitEngineOutput_html"><div class="ttname"><a href="structgait_1_1GaitEngineOutput.html">gait::GaitEngineOutput</a></div><div class="ttdoc">Data struct for passing gait engine output data from the gait engine to the generic gait motion modul...</div><div class="ttdef"><b>Definition:</b> gait_interface.h:68</div></div>
<div class="ttc" id="namespacegait_html_aa46230590d4c7b371237dad06fb10c9c"><div class="ttname"><a href="namespacegait.html#aa46230590d4c7b371237dad06fb10c9c">gait::MotionStance</a></div><div class="ttdeci">MotionStance</div><div class="ttdoc">Enumeration of motion stances that can be commanded to a gait engine. </div><div class="ttdef"><b>Definition:</b> gait_common.h:100</div></div>
<div class="ttc" id="classnimbro__utils_1_1TrapVelSpline_html"><div class="ttname"><a href="classnimbro__utils_1_1TrapVelSpline.html">nimbro_utils::TrapVelSpline</a></div><div class="ttdoc">Class that calculates a trapezoidal velocity spline to fit between two boundary conditions. </div><div class="ttdef"><b>Definition:</b> math_spline.h:347</div></div>
<div class="ttc" id="classgait_1_1Gait_html_aa5ac0b3ae5ab055465d094566752ff54"><div class="ttname"><a href="classgait_1_1Gait.html#aa5ac0b3ae5ab055465d094566752ff54">gait::Gait::gaitName</a></div><div class="ttdeci">const std::string &amp; gaitName() const </div><div class="ttdoc">Retrieve the name of the gait (e.g. if the parameter string is cpg_gait::CPGGait then the gait name i...</div><div class="ttdef"><b>Definition:</b> gait.h:74</div></div>
<div class="ttc" id="structgait_1_1GaitEngineInput_html"><div class="ttname"><a href="structgait_1_1GaitEngineInput.html">gait::GaitEngineInput</a></div><div class="ttdoc">Data struct for passing gait engine input data from the generic gait motion module to the gait engine...</div><div class="ttdef"><b>Definition:</b> gait_interface.h:22</div></div>
<div class="ttc" id="classgait_1_1Gait_html_a23f36332f5b2de8511dc012224bda134"><div class="ttname"><a href="classgait_1_1Gait.html#a23f36332f5b2de8511dc012224bda134">gait::Gait::~Gait</a></div><div class="ttdeci">virtual ~Gait()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> gait.cpp:81</div></div>
<div class="ttc" id="classgait_1_1Gait_html_a7ad4442565e0c68d0645fa46b1338601"><div class="ttname"><a href="classgait_1_1Gait.html#a7ad4442565e0c68d0645fa46b1338601">gait::Gait::Gait</a></div><div class="ttdeci">Gait()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> gait.cpp:37</div></div>
<div class="ttc" id="classnimbro__utils_1_1LinearSpline_html"><div class="ttname"><a href="classnimbro__utils_1_1LinearSpline.html">nimbro_utils::LinearSpline</a></div><div class="ttdoc">Class that calculates a linear spline to fit between two boundary conditions. </div><div class="ttdef"><b>Definition:</b> math_spline.h:55</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_87a0df428f6a2da77e8f5b68af94d31f.html">motion</a></li><li class="navelem"><a class="el" href="dir_2eafd186e4f03e824959e585f251d190.html">gait</a></li><li class="navelem"><a class="el" href="dir_e8edb3f88805080d9195be700e48d153.html">include</a></li><li class="navelem"><a class="el" href="dir_778be14cca0ea74a77900a2c7f08810b.html">gait</a></li><li class="navelem"><b>gait.h</b></li>
    <li class="footer">Generated on Fri Aug 26 2016 07:56:24 for NimbRo ROS Soccer Package by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
