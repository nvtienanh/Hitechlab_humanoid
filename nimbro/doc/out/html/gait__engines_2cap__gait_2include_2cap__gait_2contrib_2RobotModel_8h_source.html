<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NimbRo ROS Soccer Package: /home/tienanh/catkin_ws/src/nimbro/motion/gait_engines/cap_gait/include/cap_gait/contrib/RobotModel.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_uni_bonn_ais.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">NimbRo ROS Soccer Package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gait__engines_2cap__gait_2include_2cap__gait_2contrib_2RobotModel_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RobotModel.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Encapsulates the model of a robot for gait purposes.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// File: RobotModel.h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Author: Philipp Allgeuer &lt;pallgeuer@ais.uni-bonn.de&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Ensure header is only included once</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#ifndef CAP_ROBOTMODEL_H</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CAP_ROBOTMODEL_H</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Includes</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;QGLViewer/frame.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;cap_gait/contrib/Action.h&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;cap_gait/cap_gait_config.h&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// Margait contrib namespace</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">namespace </span>margait_contrib</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// Namespaces</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">using namespace </span>qglviewer;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// RobotModel class</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">class </span>RobotModel</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// Constructor</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keyword">explicit</span> RobotModel(<a class="code" href="structcap__gait_1_1CapConfig.html">cap_gait::CapConfig</a>* capConfig);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// Configuration variables</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcap__gait_1_1CapConfig.html">cap_gait::CapConfig</a>* getConfig()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> config; }</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">// Reset function</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordtype">void</span> reset(<span class="keywordtype">bool</span> resetModel = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">// Robot odometry</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">void</span> resetOdom(); <span class="comment">// Resets the CoM odometry to a zero position in the world frame</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">void</span> setOdom(<span class="keywordtype">double</span> comX, <span class="keywordtype">double</span> comY, <span class="keywordtype">double</span> fYaw); <span class="comment">// Set the CoM odometry to a particular position and fused yaw in the world frame</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">// Update the robot model with new pose and fused angle data</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">void</span> update(<span class="keyword">const</span> Pose&amp; pose, <span class="keywordtype">double</span> fusedX, <span class="keywordtype">double</span> fusedY);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">// Sets the support leg sign of the model and updates the required associated frames</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">void</span> setSupportLeg(<span class="keywordtype">int</span> supportLegSign);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">// Robot model CoM vector (vector from footstep frame to CoM in footstep frame coordinates)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    Vec suppComVector() <span class="keyword">const</span>;    <span class="comment">// Returns the vector pointing from the support footstep frame to the CoM in support footstep frame coordinates</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    Vec freeComVector() <span class="keyword">const</span>;    <span class="comment">// Returns the vector pointing from the free footstep frame to the CoM in free footstep frame coordinates</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    Vec leftComVector() <span class="keyword">const</span>;    <span class="comment">// Returns the vector pointing from the left footstep frame to the CoM in left footstep frame coordinates</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    Vec rightComVector() <span class="keyword">const</span>;   <span class="comment">// Returns the vector pointing from the right footstep frame to the CoM in right footstep frame coordinates</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">// Robot model step vector (vector from footstep frame to other footstep frame in footstep frame coordinates)</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    Vec suppStepVector() <span class="keyword">const</span>;   <span class="comment">// Returns the vector pointing from the support footstep frame to the free footstep frame in support footstep frame coordinates</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    Vec freeStepVector() <span class="keyword">const</span>;   <span class="comment">// Returns the vector pointing from the free footstep frame to the support footstep frame in free footstep frame coordinates</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    Vec leftStepVector() <span class="keyword">const</span>;   <span class="comment">// Returns the vector pointing from the left footstep frame to the right footstep frame in left footstep frame coordinates</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    Vec rightStepVector() <span class="keyword">const</span>;  <span class="comment">// Returns the vector pointing from the right footstep frame to the left footstep frame in right footstep frame coordinates</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// Robot model swing vector (vector from CoM to other footstep frame in footstep frame coordinates)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    Vec suppSwingVector() <span class="keyword">const</span>;  <span class="comment">// Returns the vector pointing from the CoM to the free footstep frame in support foot coordinates</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    Vec freeSwingVector() <span class="keyword">const</span>;  <span class="comment">// Returns the vector pointing from the CoM to the support footstep frame in free foot coordinates</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    Vec leftSwingVector() <span class="keyword">const</span>;  <span class="comment">// Returns the vector pointing from the CoM to the right footstep frame in left foot coordinates</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    Vec rightSwingVector() <span class="keyword">const</span>; <span class="comment">// Returns the vector pointing from the CoM to the left footstep frame in right foot coordinates</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Robot model step yaw (difference in fused yaw from footstep frame to other footstep frame in the global coordinate frame)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">double</span> suppStepYaw() <span class="keyword">const</span>;   <span class="comment">// Returns the difference in fused yaw from the support footstep frame to the free footstep frame in the global coordinate frame</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">double</span> freeStepYaw() <span class="keyword">const</span>;   <span class="comment">// Returns the difference in fused yaw from the free footstep frame to the support footstep frame in the global coordinate frame</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">double</span> leftStepYaw() <span class="keyword">const</span>;   <span class="comment">// Returns the difference in fused yaw from the left footstep frame to the right footstep frame in the global coordinate frame</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">double</span> rightStepYaw() <span class="keyword">const</span>;  <span class="comment">// Returns the difference in fused yaw from the right footstep frame to the left footstep frame in the global coordinate frame</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// Static conversion functions</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">double</span> fusedYaw(<span class="keyword">const</span> Quaternion&amp; q); <span class="comment">// Returns the fused yaw of a quaternion orientation in the range (-pi,pi]</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">static</span> Quaternion quatFromFusedPR(<span class="keywordtype">double</span> fusedX, <span class="keywordtype">double</span> fusedY); <span class="comment">// Converts a pure fused pitch/roll rotation to a quaternion</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// Initialisation of kinematic model</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">void</span> initKinematicModel();        <span class="comment">// Initialises the entire kinematic chain</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">void</span> initKinematicHierarchy();    <span class="comment">// Initialises the reference frame hierarchy of the kinematic chain</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> initKinematicTranslations(); <span class="comment">// Initialises the translations of the kinematic chain</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">void</span> initKinematicRotations();    <span class="comment">// Initialises the rotations of the kinematic chain</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// Update functions</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">void</span> updateLeftRightFootstep();   <span class="comment">// Updates the left/right footstep frames based on the left/right foot floor point frames</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">void</span> updateSuppFreeFootstep();    <span class="comment">// Updates the support and free footstep frames as being the left or right footstep frames, based on the current support leg sign</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// Set robot pose functions</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">void</span> setPose(<span class="keyword">const</span> Pose&amp; pose) { this-&gt;pose = pose; applyPose(); } <span class="comment">// Set the kinematic pose of the modelled robot and apply it</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">void</span> applyPose();                                                  <span class="comment">// Applies the currently set joint angles to the kinematic model</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> alignModel(<span class="keywordtype">double</span> fusedX, <span class="keywordtype">double</span> fusedY);                     <span class="comment">// Set the fused pitch/roll orientation of the model (fused yaw is part of the odometry)</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// Helper functions</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">double</span> getStepYaw(<span class="keyword">const</span> Frame&amp; fromFootstep, <span class="keyword">const</span> Frame&amp; toFootstep) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// Configuration variables</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="structcap__gait_1_1CapConfig.html">cap_gait::CapConfig</a>* config;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">void</span> robotSpecCallback() { initKinematicTranslations(); }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Robot pose (encapsulates the currently set joint angles, applied to the kinematic frames by the applyPose() function)</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    Pose pose;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// Root frame</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    Frame base;            <span class="comment">// Global frame placed at the centre between the two hip joints (the nominal &quot;base&quot; reference point of the robot)</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Footstep frames</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    Frame leftFootstep;    <span class="comment">// Global frame placed at the left foot floor point, with only the yaw component of the rotation of the left foot (left footstep frame)</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    Frame rightFootstep;   <span class="comment">// Global frame placed at the right foot floor point, with only the yaw component of the rotation of the right foot (right footstep frame)</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    Frame suppFootstep;    <span class="comment">// Frame placed at either the left or right footstep frame depending on the current support leg (support footstep frame)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    Frame freeFootstep;    <span class="comment">// Frame placed at either the left or right footstep frame depending on the current free leg (free footstep frame)</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Trunk frames</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    Frame com;             <span class="comment">// Frame placed at the CoM of the robot</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    Frame trunkLink;       <span class="comment">// Frame placed at the trunk link of the robot as per the tf (i.e. as defined by the URDF model)</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// Head frames</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    Frame neck;            <span class="comment">// Frame placed at the neck joint, aligned with the head</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    Frame head;            <span class="comment">// Frame placed at the centre of the head, aligned with the head</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// Left arm frames</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    Frame lShoulder;       <span class="comment">// Frame placed at the left shoulder joint, aligned with the upper arm</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    Frame lElbow;          <span class="comment">// Frame placed at the left elbow joint, aligned with the lower arm</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    Frame lHand;           <span class="comment">// Frame placed at the left hand, aligned with the lower arm</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// Right arm frames</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    Frame rShoulder;       <span class="comment">// Frame placed at the right shoulder joint, aligned with the upper arm</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    Frame rElbow;          <span class="comment">// Frame placed at the right elbow joint, aligned with the lower arm</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    Frame rHand;           <span class="comment">// Frame placed at the right hand, aligned with the lower arm</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// Left leg frames</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    Frame lHip;            <span class="comment">// Frame placed at the left hip joint, aligned with the upper leg</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    Frame lKnee;           <span class="comment">// Frame placed at the left knee joint, aligned with the lower leg</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    Frame lAnkle;          <span class="comment">// Frame placed at the left ankle joint, aligned with the foot</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    Frame lFootFloorPoint; <span class="comment">// Frame placed at the point on the bottom of the left foot that is assumed to be in contact with the ground when left is the support foot, aligned with the foot</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// Right leg frames</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    Frame rHip;            <span class="comment">// Frame placed at the right hip joint, aligned with the upper leg</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    Frame rKnee;           <span class="comment">// Frame placed at the right knee joint, aligned with the lower leg</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    Frame rAnkle;          <span class="comment">// Frame placed at the right ankle joint, aligned with the foot</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    Frame rFootFloorPoint; <span class="comment">// Frame placed at the point on the bottom of the right foot that is assumed to be in contact with the ground when right is the support foot, aligned with the foot</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// TODO: A current shortcoming of the robot model is that x-offsets from the hip midpoint to the shoulder line/arm axis/head axis aren&#39;t considered.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// Support leg information</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">enum</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        LEFT_LEG = -1,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        RIGHT_LEG = 1</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    };</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">int</span>  supportLegSign;      <span class="comment">// Sign of the current support leg (1 = Right leg, -1 = Left leg)</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">bool</span> supportExchange;     <span class="comment">// Flag whether a support exchange happened during a call to update()</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">bool</span> supportExchangeLock; <span class="comment">// Flag whether a support exchange is currently disallowed (used to enforce a hysteresis)</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;};</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">// EOF</span></div>
<div class="ttc" id="structcap__gait_1_1CapConfig_html"><div class="ttname"><a href="structcap__gait_1_1CapConfig.html">cap_gait::CapConfig</a></div><div class="ttdoc">Configuration struct for the capture step gait. </div><div class="ttdef"><b>Definition:</b> cap_gait_config.h:21</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_87a0df428f6a2da77e8f5b68af94d31f.html">motion</a></li><li class="navelem"><a class="el" href="dir_3d754f4b5776515260cd573d410e1fd9.html">gait_engines</a></li><li class="navelem"><a class="el" href="dir_20ae00fde8f362b7b6cf559e012310e8.html">cap_gait</a></li><li class="navelem"><a class="el" href="dir_8c2f7cfe9239d5c8a4cdc6a859507bba.html">include</a></li><li class="navelem"><a class="el" href="dir_2b18fe7a2dd7b312c8272d1334b0032d.html">cap_gait</a></li><li class="navelem"><a class="el" href="dir_db40dd43fe898265245f0626a5dada63.html">contrib</a></li><li class="navelem"><b>RobotModel.h</b></li>
    <li class="footer">Generated on Wed Aug 24 2016 18:45:41 for NimbRo ROS Soccer Package by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
